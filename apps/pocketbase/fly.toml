app = "weathered-bird-9452" # Add app name generated by `fly apps create --generate-name`
primary_region = "ewr"      # Add a region ID from https://fly.io/docs/reference/regions

[mounts]
destination = "/pb_data"
source = "pb_data"       # Create volume with `fly volumes create pb_data --size=1`

[build.args]
VERSION = "0.22.18"

[http_service]
internal_port = 8090
force_https = true
auto_stop_machines = "stop"
auto_start_machines = true
min_machines_running = 0
processes = ["app"]

[checks]
[checks.health]
grace_period = "30s"
interval = "15s"
method = "get"
path = "/api/health"
port = 8090
timeout = "10s"
type = "http"

[[vm]]
size = "shared-cpu-1x"
memory = 256
